<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.wenzhuo4657.dailyWeb.infrastructure.database.dao.ContentItemDao">

    <resultMap id="contentItem" type="cn.wenzhuo4657.dailyWeb.infrastructure.database.entity.ContentItem">
        <id property="id" column="id"/>
        <result property="content_name_Id" column="content_name_id"/>
        <result property="content" column="item_content"/>
        <result property="field" column="item_Field"/>
        <result property="date" column="date"/>
    </resultMap>


    <insert id="insert" parameterType="cn.wenzhuo4657.dailyWeb.infrastructure.database.entity.ContentItem">
        insert into contentItem(content_name_id,item_content,item_Field,date)
        values(#{content_name_Id},#{content},#{field},#{date})
    </insert>

    <update id="updateContent"  parameterType="cn.wenzhuo4657.dailyWeb.infrastructure.database.entity.ContentItem">
        update contentItem
        set item_content=#{content}
        where id=#{id}

    </update>
    <update id="updateField" parameterType="cn.wenzhuo4657.dailyWeb.infrastructure.database.entity.ContentItem">
        update contentItem
        set item_Field= #{field}
        where id= #{id}
    </update>


    <select id="queryByContentId" resultMap="contentItem">
        select * from contentItem where content_name_id=#{i}  order by "date" desc
    </select>
    <select id="queryByContentIdAndDate" resultType="java.lang.Integer" parameterType="cn.wenzhuo4657.dailyWeb.infrastructure.database.entity.ContentItem">
        select  count(*) from contentItem where  content_name_id=#{content_name_Id} and "date"=#{date}
    </select>
    <select id="selectContentItem" resultMap="contentItem" >
        select * from contentItem where id=#{id}
    </select>
</mapper>
